# 数据库分库分表

## 分库分表的几种方式
```
把一个实例中的多个数据库拆分到不同的实例

    订单数据库

    用户数据库

    促销数据库

一个库中的表分离到不同的数据库中

    订单数据库实例

    用户数据库实例

    促销数据库实例

对一个库中的相关表进行水平拆分到不同实例的数据库中

    如何选择分区键

        分区键要能尽量避免跨分区片查询的发生

        分区键要能尽量使各个分片中的数据平均

    如何存储无需分片的表

        每个分片中存储一份相同的数据(冗余数据，查询高效)

        使用额外的节点同一存储(不冗余数据，数据还需要放到内存中处理)

    如何在节点上部署分片

        每个分片使用单一数据库，并且数据库名也相同

        将多个分片表存储在一个数据库中，并在表名上加入分片号后缀

        在一个节点中部署多个数据库，每个数据库包含一个分片

    如何分配分片中的数据

        按分区键的Hash值取模来分配分片数据

    
```

