# Mysql 高可用

## 什么是高可用架构
```
全年可用时间, 0.99999
```

## 如何实现高可用
```
避免导致系统不可用的因素, 减少系统不可用时间

    1. 建立完善的监控及报警系统
    2. 对备份数据进行恢复测试(定时测试)
    3. 正确配置数据库
    4. 对不需要的数据进行归档和清理(独立的表空间)

增加系统冗余，保证发生系统不可用时可以尽快恢复

    1. 避免存在单点故障

        利用SUN共享存储(不是好的方式)或DRDB磁盘复制解决MySQL单点故障

        利用多写集群或NDB集群来解决MySQL单点故障

        利用mysql主从复制来解决MySQL单点故障

        如何解决主服务器的单点问题：

            主服务器切换后如何通知应用新的主服务器的IP地址

            如何检查MySQL主服务器是否可用

            如何处理从服务器和新主服务器之间的那种复制关系

    2. 主从切换及故障转移

MMM(Multi-Master Replication Manager)

    主要作用:
        监控和管理MySQL的主主复制拓扑，并在当前的主服务器失效时，
        进行主和主备服务器之间的主从切换和故障转移工作。

        TODO 5-11

```