# Kafka主题删除与分区深度解析

## 主题的删除
```
删除主题:
    ./kafka-topics.sh --zookeeper localhost:2181 --delete --topic mytest2
```

## 分区
```
每个主题可以划分为多个分区(每个主题都至少会有一个分区,在之前的示例中,我们在创建主题时所使用的参数--partitions即表示所创建的主题的分区数,当时指定值为1)。
在同一主题下的不同分区包含的消息是不同的。
每个消息在被添加到分区中时,都会被分配一个偏移量(offset),它是消息在所在分区中的唯一编号,Kafka是通过offset来确保消息在一个分区内的顺序。
offset的顺序性并不跨越分区,这意味着Kafka只会确保在同一个分区内的消息是有序的,但是同一主题的多个分区内的消息,Kafka并不会保证其顺序性。

消息在每个分区中是严格有序的,而不同分区之间的消息则是不保证顺序的。

基于这样的设计策略,Kafka的性能并不会随着分区中消息量的增多而产生损耗,因此存储较⻓时间的数据也不会导致什么问题。

Kafka中的消息记录是保存在磁盘上的,通过为每个消息分配一个offset,即可以很好地确保同一分区中消息的顺序性。
另外,Kafka中的消息在磁盘上是有一定的保留时间的,在这个时间内,消息会存储在磁盘上;当过了这个时间,消息即会被丢弃掉,从而释放磁盘空间。
该参数位于server.properties文件中,默为:log.retention.hours=168。
即消息默认会保留7天;当然,你可以根据实际情况来自由修改该时间,修改后重启Kafka Server即可生效。

每个消息在同一个分区中都有唯一的一个偏移量(offset)。

分区是Kafka实现高吞吐量的一个重要手段,特别是在Kafka集群环境下,一个主题的消息会分布在不同的Kafka Server上,实现了分布式的消息存储,特别是搭配上Kafka副本的配置效果更佳
```
